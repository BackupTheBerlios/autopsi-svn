CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE ATTACHABLE_OBJECT_KATEGORIE(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,TITLE VARCHAR(255),DESCRIPTION VARCHAR(255),SHAREABLE BOOLEAN)
CREATE MEMORY TABLE TERMIN_KATEGORIE(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,NAME VARCHAR(255))
CREATE MEMORY TABLE TERMINCONTAINER(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,GROUP_ID INTEGER,TITLE VARCHAR(255),DESCRIPTION VARCHAR(255),CONSTRAINT GROUP_ID_TERMINCONTAINER FOREIGN KEY(GROUP_ID) REFERENCES ATTACHABLE_OBJECT_KATEGORIE(ID) ON DELETE SET NULL)
CREATE MEMORY TABLE TERMIN(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,GROUP_ID INTEGER,TERMIN_KATEGORIE_ID INTEGER,SECONDARY_TITLE VARCHAR(255),DESCRIPTION VARCHAR(255),DATE TIMESTAMP,DURATION INTEGER,PLACE VARCHAR(200),TERMINCONTAINER_ID INTEGER,CONSTRAINT HIER_BIN_ICH FOREIGN KEY(TERMIN_KATEGORIE_ID) REFERENCES TERMIN_KATEGORIE(ID) ON DELETE CASCADE,CONSTRAINT GROUP_ID_TERMIN FOREIGN KEY(GROUP_ID) REFERENCES ATTACHABLE_OBJECT_KATEGORIE(ID) ON DELETE SET NULL)
CREATE MEMORY TABLE ATTACHABLE_OBJECT(GLOBAL_ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,KATEGORIE_ID INTEGER,TABLE_NAME VARCHAR(255),CONSTRAINT KATEGORIE_ID_ATTACHABLE_OBJECT FOREIGN KEY(KATEGORIE_ID) REFERENCES ATTACHABLE_OBJECT_KATEGORIE(ID) ON DELETE CASCADE)
CREATE MEMORY TABLE LEHRMITTEL_KATEGORIE(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,TITLE VARCHAR(255))
CREATE MEMORY TABLE UNIVERSITAET(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,NAME VARCHAR(255))
CREATE MEMORY TABLE LVA_KATEGORIE(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL PRIMARY KEY,NAME VARCHAR(255))
CREATE MEMORY TABLE LVA(GLOBAL_ID INTEGER,TITLE VARCHAR(255),TYPE INTEGER,DESCRIPTION VARCHAR(255),LVA_NR VARCHAR(255),UNI_ID INTEGER,CONSTRAINT GLOBAL_ID_LVA FOREIGN KEY(GLOBAL_ID) REFERENCES ATTACHABLE_OBJECT(GLOBAL_ID) ON DELETE CASCADE,CONSTRAINT LVA_TO_KATEGORIE FOREIGN KEY(TYPE) REFERENCES LVA_KATEGORIE(ID),CONSTRAINT LVA_TO_UNI FOREIGN KEY(UNI_ID) REFERENCES UNIVERSITAET(ID))
CREATE MEMORY TABLE KONTAKT(GLOBAL_ID INTEGER,KATEGORIE_ID INTEGER,PRENAME VARCHAR(255),SURNAME VARCHAR(255),BIRTH_DATE DATE,TEL_PRIVATE VARCHAR(255),TEL_BUSINESS VARCHAR(255),TEL_MOBILE VARCHAR(255),A_ZIPCODE INTEGER,A_CITY VARCHAR(255),A_ADRESS VARCHAR(255),FIRST_EMAIL VARCHAR(255),SECOND_EMAIL VARCHAR(255),CONSTRAINT GLOBAL_ID_KONTAKT FOREIGN KEY(GLOBAL_ID) REFERENCES ATTACHABLE_OBJECT(GLOBAL_ID) ON DELETE CASCADE)
CREATE MEMORY TABLE LEHRMITTEL(GLOBAL_ID INTEGER,LEHRMITTEL_KATEGORIE_ID INTEGER,NAME VARCHAR(255),DESCRIPTION VARCHAR(255),FILE_LINK VARCHAR(255),CONSTRAINT GLOBAL_ID_LEHRMITTEL FOREIGN KEY(GLOBAL_ID) REFERENCES ATTACHABLE_OBJECT(GLOBAL_ID) ON DELETE CASCADE,CONSTRAINT LEHRMITTEL_KATEGORIE_ID FOREIGN KEY(LEHRMITTEL_KATEGORIE_ID) REFERENCES LEHRMITTEL_KATEGORIE(ID))
CREATE MEMORY TABLE PRUEFUNG(GLOBAL_ID INTEGER,LVA_ID INTEGER,EXAMINER VARCHAR(255),GRADE INTEGER,CONSTRAINT GLOBAL_ID_PRUEFUNG FOREIGN KEY(GLOBAL_ID) REFERENCES ATTACHABLE_OBJECT(GLOBAL_ID) ON DELETE CASCADE,CONSTRAINT LVA_ID_PRUEFUNG FOREIGN KEY(LVA_ID) REFERENCES ATTACHABLE_OBJECT(GLOBAL_ID) ON DELETE CASCADE)
CREATE MEMORY TABLE NOTIZ(GLOBAL_ID INTEGER,TITLE VARCHAR(255),NOTE VARCHAR(2000),CONSTRAINT GLOBAL_ID_NOTIZ FOREIGN KEY(GLOBAL_ID) REFERENCES ATTACHABLE_OBJECT(GLOBAL_ID) ON DELETE CASCADE)
CREATE MEMORY TABLE ANHAENGEN_TERMINCONTAINER(TERMINCONTAINER_ID INTEGER,GLOBAL_ID INTEGER,TABLE_NAME VARCHAR(255),CONSTRAINT TERMINCONTAINER_ID_ANHAENGEN FOREIGN KEY(TERMINCONTAINER_ID) REFERENCES TERMINCONTAINER(ID) ON DELETE CASCADE,CONSTRAINT GLOBAL_ID_ANHAENGEN_TERMINCONTAINER FOREIGN KEY(GLOBAL_ID) REFERENCES ATTACHABLE_OBJECT(GLOBAL_ID) ON DELETE CASCADE)
CREATE MEMORY TABLE ANHAENGEN_TERMIN(TERMIN_ID INTEGER,GLOBAL_ID INTEGER,TABLE_NAME VARCHAR(255),CONSTRAINT TERMIN_ID_ANHAENGEN FOREIGN KEY(TERMIN_ID) REFERENCES TERMIN(ID) ON DELETE CASCADE,CONSTRAINT GLOBAL_ID_ANHAENGEN_TERMIN FOREIGN KEY(GLOBAL_ID) REFERENCES ATTACHABLE_OBJECT(GLOBAL_ID) ON DELETE CASCADE)
ALTER TABLE ATTACHABLE_OBJECT_KATEGORIE ALTER COLUMN ID RESTART WITH 103
ALTER TABLE TERMIN_KATEGORIE ALTER COLUMN ID RESTART WITH 1
ALTER TABLE TERMINCONTAINER ALTER COLUMN ID RESTART WITH 1
ALTER TABLE TERMIN ALTER COLUMN ID RESTART WITH 13
ALTER TABLE ATTACHABLE_OBJECT ALTER COLUMN GLOBAL_ID RESTART WITH 1
ALTER TABLE LEHRMITTEL_KATEGORIE ALTER COLUMN ID RESTART WITH 1
ALTER TABLE UNIVERSITAET ALTER COLUMN ID RESTART WITH 1
ALTER TABLE LVA_KATEGORIE ALTER COLUMN ID RESTART WITH 1
CREATE USER SA PASSWORD "AB"
GRANT DBA TO SA
SET WRITE_DELAY 0 MILLIS
SET SCHEMA PUBLIC
INSERT INTO ATTACHABLE_OBJECT_KATEGORIE VALUES(0,'Keine Kategorie','Keine Kategorie',FALSE)
INSERT INTO ATTACHABLE_OBJECT_KATEGORIE VALUES(1,'TEST','Test',TRUE)
INSERT INTO ATTACHABLE_OBJECT_KATEGORIE VALUES(2,'Nicht geshared','Nicht geshared',FALSE)
INSERT INTO ATTACHABLE_OBJECT_KATEGORIE VALUES(99,'geshartes Zeugs','geshartes Zeugs',TRUE)
INSERT INTO ATTACHABLE_OBJECT_KATEGORIE VALUES(100,'test23849382','',TRUE)
INSERT INTO ATTACHABLE_OBJECT_KATEGORIE VALUES(101,'newi\u00fca','',TRUE)
INSERT INTO ATTACHABLE_OBJECT_KATEGORIE VALUES(102,'newehjkdfl','',TRUE)
INSERT INTO TERMIN_KATEGORIE VALUES(0,'Kein Typ')
INSERT INTO TERMINCONTAINER VALUES(0,0,'Kein Termincontainer','Dieser Termin geh\u00f6rt zu keinem Termincontainer')
INSERT INTO TERMIN VALUES(0,0,0,'Kein Termin','Dies ist der Standard-Termin','1234-01-01 12:00:00.0',2,'',0)
INSERT INTO ATTACHABLE_OBJECT VALUES(0,0,'')
INSERT INTO LEHRMITTEL_KATEGORIE VALUES(0,'Keine Kategorie')
INSERT INTO UNIVERSITAET VALUES(0,'Keine Universit\u00e4t')
INSERT INTO LVA_KATEGORIE VALUES(0,'-Kein LVA-Typ')
INSERT INTO LVA VALUES(0,'Keine Lva',2,'Dies ist die Standard-Lva','123.456',0)
INSERT INTO KONTAKT VALUES(0,0,'Kein','Kontakt','0000-00-00','0000','','',0,'','','','')
INSERT INTO LEHRMITTEL VALUES(0,0,'Kein Lehrmittel','Dies ist das Standard-Lehrmittel','Keine Datei')
INSERT INTO PRUEFUNG VALUES(0,0,'Standard-Pr\u00fcfung',0)
INSERT INTO NOTIZ VALUES(0,'Standard-Notiz','Dies ist die Standard-Notiz')
INSERT INTO ANHAENGEN_TERMIN VALUES(12,5,'lehrmittel')
